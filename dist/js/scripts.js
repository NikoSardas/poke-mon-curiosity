const pokemonRepository=function(){const t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(e){const n=Object.keys(e);if("object"!=typeof e)return!1;"name"===n[0]&&"detailsUrl"===n[1]&&t.push(e)}function o(e){(function(e){return fetch(e.detailsUrl).then(function(t){return t.json()}).then(function(n){const o=function(e){let n=t.filter(function(t){if(t.name===e)return t});0===n.length&&(n="That Pokemon is not on the list!");return n}(e.name);return o[0].imgUrl=n.sprites.front_default,o[0].height=n.height,o[0].weight=n.weight,o[0].abilities=n.abilities,o}).catch(function(t){console.error(t)})})(e).then(function(t){modal.show(t)})}function i(t){const e=$("#loadingMessage");t?e.removeClass("d-none"):e.addClass("d-none")}return{add:n,getList:function(){return t},addListItem:function(t){const e=document.createElement("div"),n=document.createElement("button");e.classList.add("group-list-item"),e.classList.add("col-lg-3"),e.classList.add("col-sm-12"),e.classList.add("col-md-4"),n.classList.add("btn"),n.classList.add("btn-primary"),n.classList.add("name-button"),n.innerText=t.name,n.dataset.target="#pokemon-modal",n.dataset.toggle="modal",e.appendChild(n),document.querySelector("#pokemon-list").appendChild(e),n.addEventListener("click",function(){i(!0),o(t)})},loadList:function(){return i(!0),fetch(e).then(function(t){return t.json()}).then(function(t){return t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})}),i(!1),!0}).catch(function(t){i(!1),console.error(t)})},loadMessage:i}}(),modal=function(){return $(".modal").on("hidden.bs.modal",function(){$("#height").text(""),$("#weight").text(""),$(".modal-title").text(""),$("#abilities").text(""),$("#pokemon-image").remove()}),{show:function(t){const e=document.createElement("img");e.id="pokemon-image",e.setAttribute("alt",t[0].name+" image"),$("#pokemon-image-container").append(e),e.onload=function(){$(".modal-title").text(t[0].name),$("#height").text(`Height: ${t[0].height}`),$("#weight").text(`Weight: ${t[0].weight}`),t[0].abilities.forEach(function(t){$("#abilities").append("<li>"+t.ability.name+" </li>")})},e.src=t[0].imgUrl,pokemonRepository.loadMessage(!1)}}}();pokemonRepository.loadList().then(function(t){t&&pokemonRepository.getList().forEach(pokemonRepository.addListItem)});
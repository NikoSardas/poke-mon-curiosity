const pokemonRepository=function(){const e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(t){const n=Object.keys(t);if("object"!=typeof t)return!1;("name"===n[0]&&"detailsUrl"===n[1]&&e).push(t)}async function o(t){try{let n=await async function(t){try{i();const n=function(t){let n=e.filter(function(e){if(e.name===t)return e});0===n.length&&(n="That Pokemon is not on the list!");return n}(t.name);let o=await fetch(t.detailsUrl),c=await o.json();return n[0].imgUrl=c.sprites.front_default,n[0].height=c.height,n[0].weight=c.weight,n[0].abilities=c.abilities,n}catch(e){a(),console.error(e)}}(t);modal.show(n)}catch(e){console.error(e)}}function i(){document.querySelector("#loadingMessage").classList.remove("d-none")}function a(){document.querySelector("#loadingMessage").classList.add("d-none")}return{add:n,getList:function(){return e},addListItem:function(e){const t=document.createElement("div"),n=document.createElement("button");t.classList.add("group-list-item"),t.classList.add("col-lg-3"),t.classList.add("col-sm-12"),t.classList.add("col-md-4"),n.classList.add("btn"),n.classList.add("btn-primary"),n.classList.add("name-button"),n.innerText=e.name,n.dataset.target="#pokemon-modal",n.dataset.toggle="modal",t.appendChild(n),document.querySelector("#pokemon-list").appendChild(t),n.addEventListener("click",function(){i(),o(e)})},loadList:async function(){i();try{let e=await fetch(t),o=await e.json();return(await o.results).forEach(function(e){n({name:e.name,detailsUrl:e.url})}),a(),!0}catch(e){a(),console.error(e)}},hideLoadMessage:a}}(),modal=function(){return $(".modal").on("hidden.bs.modal",function(){document.querySelector("#pokemon-image-container").innerHTML="",document.querySelector(".modal-content").classList.remove("loaded"),document.querySelector("#height").innerText="",document.querySelector("#weight").innerText="",document.querySelector(".modal-title").innerText="",document.querySelector("#abilities").innerText=""}),{show:function(e){const t=document.createElement("img");t.id="pokemon-image",t.setAttribute("alt",e[0].name+" image"),t.setAttribute("draggable","false"),document.querySelector("#pokemon-image-container").appendChild(t),t.onload=function(){document.querySelector(".modal-title").innerText=e[0].name,document.querySelector("#height").innerText=`Height: ${e[0].height}`,document.querySelector("#weight").innerText=`Weight: ${e[0].weight}`,e[0].abilities.forEach(function(e){let t=document.createElement("li");document.querySelector("#abilities").appendChild(t),t.innerText=e.ability.name.charAt(0).toUpperCase()+e.ability.name.slice(1)}),document.querySelector(".modal-content").classList.add("loaded")},t.src=e[0].imgUrl,pokemonRepository.hideLoadMessage()}}}();pokemonRepository.loadList().then(function(e){(e&&pokemonRepository.getList()).forEach(pokemonRepository.addListItem)});